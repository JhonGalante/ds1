<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             template="template-menu.xhtml"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Definir Apresentação</title>

        <script type="text/javascript">
            PrimeFaces.locales['pt'] = {
                closeText: 'Fechar',
                prevText: 'Anterior',
                nextText: 'Seguinte',
                monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab'],
                dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
                weekHeader: 'Semana',
                firstDayOfWeek: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Apenas tempo',
                timeText: 'Tempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                currentText: 'Fechar atual',
                ampm: false,
                month: 'Mês',
                week: 'Semana',
                day: 'Dia',
                allDayText: 'Todos os dias'
            };
        </script>

        <style type="text/css">
            .semBorda tr, .semBorda td { border: none !important; }
        </style>
    </h:head>
    <h:body>
        <h:form id="form">
            <p:growl id="growl" showDetail="true" sticky="true" />
            <p:panel header="Definir Apresentação">
                <p:panelGrid columns="2" layout="grid" styleClass="semBorda">
                    <p:dataTable id="radioDT" var="aluno" value="#{guiDefinirApresentacao.alunosDisp}" 
                                 selection="#{guiDefinirApresentacao.alunoSeleciado}" rowKey="#{aluno.usuario.matricula}" 
                                 style="margin-bottom:0" emptyMessage="Nenhuma apresentação para ser agendada">
                        <f:facet name="header">
                            Alunos
                        </f:facet>
                        <p:column selectionMode="single" style="width:16px;text-align:center"/>
                        <p:column headerText="Matricula">
                            <h:outputText value="#{aluno.usuario.matricula}"/>
                        </p:column>
                        <p:column headerText="Nome">
                            <h:outputText value="#{aluno.usuario.nome}"/>
                        </p:column>
                        <p:column headerText="Email">
                            <h:outputText value="#{aluno.usuario.email}"/>
                        </p:column>
                    </p:dataTable>
                    
                    <p:dataTable id="checkboxDT" var="banca" value="#{guiDefinirApresentacao.professores}" 
                                 selection="#{guiDefinirApresentacao.banca}" rowKey="#{banca.usuario.matricula}" 
                                 style="margin-bottom:0" emptyMessage="Nenhum professor disponivel para banca">
                        <f:facet name="header">
                            Banca
                        </f:facet>
                        <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                        <p:column headerText="Matricula">
                            <h:outputText value="#{banca.usuario.matricula}"/>
                        </p:column>
                        <p:column headerText="Nome">
                            <h:outputText value="#{banca.usuario.nome}"/>
                        </p:column>
                        <p:column headerText="Email">
                            <h:outputText value="#{banca.usuario.email}"/>
                        </p:column>
                    </p:dataTable>
                    
                    <p:panelGrid columns="2" styleClass="semBorda">
                        <p:outputLabel for="data" value="Data de Apresentação:" />
                        <p:datePicker id="data" value="#{guiDefinirApresentacao.data}" locale="pt" pattern="dd-MMM-yyyy"/>
                        <p:outputLabel for="local" value="Local de Apresentação:" />
                        <p:inputText id="local" value="#{guiDefinirApresentacao.local}"></p:inputText>
                        <p:commandButton value="Agendar" action="#{guiDefinirApresentacao.agendar()}" update="@form" ajax="false"/>
                    </p:panelGrid>
                </p:panelGrid>
            </p:panel>
        </h:form> 
    </h:body>
</ui:decorate>

