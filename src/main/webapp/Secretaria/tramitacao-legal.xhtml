<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             template="template-menu.xhtml"
             xmlns:p="http://primefaces.org/ui"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:body>
        <h:form id="form">
            <p:growl id="msgs" showDetail="true" />
            <p:panel id="tramitacaoLegalPanel" header="Tramitação Legal">

                <p:dataTable id="tabelaTramitacaoLegal" var="projeto" value="#{guiTramitacaoLegal.projetos}" selection="#{guiTramitacaoLegal.projetoSelecionado}" rowKey="#{projeto.id}">
                    <f:facet name="header">
                        Projetos Pendentes
                    </f:facet>
                    <p:column selectionMode="single" style="width:16px;text-align:center"/>
                    <p:column headerText="Nome" class="column">
                        <h:outputText value="#{projeto.termoCompromisso.aluno.usuario.nome}" />
                    </p:column>
                    <p:column headerText="Curso" class="column">
                        <h:outputText value="#{projeto.termoCompromisso.aluno.curso}" />
                    </p:column>
                    <p:column headerText="Titulo" class="column">
                        <h:outputText value="#{projeto.termoCompromisso.titulo}" />
                    </p:column>  
                    <p:column headerText="Orientador" class="column">
                        <h:outputText value="#{projeto.termoCompromisso.professor}" />
                    </p:column>
                    <p:column headerText="Orientador" class="column">
                        <h:outputText value="#{projeto.estadoTccENUM}" />
                    </p:column>
                    <p:column headerText="Orientador" class="column">
                        <h:outputText value="#{projeto.nota}" />
                    </p:column>
                    
                    <f:facet name="footer">
                        <h:outputText value="Selecione um Projeto" />
                        <p:commandButton icon="fa fa-fw fa-hand-o-up" value="Selecionar" style="margin-left: 10px;" action="#{guiTramitacaoLegal.selecionarProjeto}" ajax="false"/>
                    </f:facet>
                </p:dataTable>
                 
                <br></br><hr></hr><br></br>
                <p:fileUpload fileUploadListener="#{guiTramitacaoLegal.realizarUpload}" mode="advanced" label="Escolher" uploadLabel="Enviar" cancelLabel="Cancelar" multiple="false" skinSimple="true"/>
            </p:panel>
        </h:form>
    </h:body>
</ui:decorate>